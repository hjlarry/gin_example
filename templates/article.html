{{template "head.html"}}

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
<!-- code syntax highlighting -->
<script src="https://cdn.jsdelivr.net/highlight.js/latest/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/latest/styles/github.min.css" />
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
    $(document).ready(function(){
        $("h2,h3").each(function(i,item){
            var tag = $(item).get(0).localName;
            $(item).attr("id","wow"+i);
            $(".toc-article").append('<a class="new'+tag+'" href="#wow'+i+'">'+$(this).text()+'</a></br>');
            $(".newh2").css("margin-left",0);
            $(".newh3").css("margin-left",20);
        });
    });
</script>

{{template "nav.html"}}

<div class="container" id="content-outer">
    <div class="inner" id="content-inner">
        <div class="post-container">
            <article class="post" id="post">
                <header class="post-header text-center">
                    <h1 class="title">
                        {{ .article.Title }}
                    </h1>
                    <span>
                <time class="time" datetime="{{dateFormat .article.CreatedOn "2006-01-02 15:04" }}">
                    {{dateFormat .article.CreatedOn "2006-01-02 15:04" }}
                </time>
            </span>
                    <span class="slash">/</span>
                    <span class="post-meta">
                <span class="post-tags">
                    <ul class="article-tag-list">
                        {{range $k,$v := .article.Tags }}
                        <li class="article-tag-list-item">
                            <a class="article-tag-list-link" href="/tag/{{$v.ID}}">{{$v.Name}}</a>
                        </li>
                        {{end}}
                    </ul>
                </span>
            </span>
                </header>

                <div class="post-content">
                    {{ .htmlContent }}
                </div>

            </article>
            <div class="toc-container"  id="toc-container">
                <div id="toc" class="toc-article">
                    <strong class="toc-title">目录</strong>
                    <div style="max-height: calc(100vh - 120px); overflow: hidden; overflow-y: auto;">
                        <nav class="nav flex-column" id="post-toc"></nav>
                    </div>
                </div>
            </div>
        </div>

        <div class="social-sharer" data-title="{{ .article.Title }}" date-url="/articles/{{.article.ID}}"
             data-services="wechat,weibo,douban,yingxiang,linkedin"></div>

        <ul id="related">
            {% for p in related_posts %}
            <li>
                <a href="" title="">TODO</a>
            </li>
            {% endfor %}
        </ul>
        <div id="reactions-container">
            TODO
        </div>

        TODO
        <div class="copyright">
            <span>本作品采用</span>
            <a href="https://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可协议</a>
            <span>进行许可。 转载时请注明原文链接。</span>
        </div>

        <div class="post-nav">
        </div>
    </div>
</div>

{{template "foot.html"}}